{"version":3,"sources":["Search.js","Favorites.js","Recommendations.js","index.js"],"names":["Search","react_default","a","createElement","onSubmit","this","props","handleSubmit","id","type","value","searchValue","onChange","handleChange","className","Component","Favorites","_this","favoritesList","length","map","item","key","onClick","removeFavorite","Recommendations","buttonText","recommendationList","object","Name","includes","handleClick","Type","wTeaser","wUrl","href","target","rel","RecommendationApp","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","bind","assertThisInitialized","event","setState","console","log","preventDefault","loadRecommendations","newFavorite","document","getElementById","innerHTML","concat","uniqueName","Array","from","Set","removedFavorite","innerText","favoritesListCopy","index","indexOf","splice","_this2","proxyurl","baseUrl","searchPhrase","toLowerCase","replace","fetch","X-Requested-With","then","response","json","contents","Similar","Results","catch","src_Search","src_Recommendations","assign","src_Favorites","React","ReactDOM","render","src_RecommendationApp","querySelector"],"mappings":"mMAwBeA,mLAlBX,OACEC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,QAAMC,SAAUC,KAAKC,MAAMC,cACzBN,EAAAC,EAAAC,cAAA,OAAKK,GAAG,cACNP,EAAAC,EAAAC,cAAA,uBAEEF,EAAAC,EAAAC,cAAA,SAAOM,KAAK,OAAOC,MAAOL,KAAKC,MAAMK,YAAaC,SAAUP,KAAKC,MAAMO,gBAEzEZ,EAAAC,EAAAC,cAAA,SAAOM,KAAK,SAASC,MAAM,WAC3BT,EAAAC,EAAAC,cAAA,OAAKW,UAAU,YAAf,qIAbSC,aCoBNC,mLAlBJ,IAAAC,EAAAZ,KACP,OACEJ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKK,GAAG,aACNP,EAAAC,EAAAC,cAAA,2BAAmBE,KAAKC,MAAMY,cAAcC,OAA5C,KACAlB,EAAAC,EAAAC,cAAA,OAAKW,UAAU,YAAf,kDACAb,EAAAC,EAAAC,cAAA,UACGE,KAAKC,MAAMY,cAAcE,IAAI,SAAAC,GAAI,OAChCpB,EAAAC,EAAAC,cAAA,MAAImB,IAAKD,EAAME,QAASN,EAAKX,MAAMkB,gBAAiBH,EAApD,iBAVUN,aCiCTU,mLA/BJ,IAAAR,EAAAZ,KAEHqB,GAAa,EAEjB,OACEzB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAKE,KAAKC,MAAMqB,mBAAmBR,OAAnC,2BAC0C,IAAzCd,KAAKC,MAAMqB,mBAAmBR,OAAelB,EAAAC,EAAAC,cAAA,KAAGW,UAAU,gBAAb,kFAAiH,GAC/Jb,EAAAC,EAAAC,cAAA,UACGE,KAAKC,MAAMqB,mBAAmBP,IAAI,SAAAQ,GAAM,OACvC3B,EAAAC,EAAAC,cAAA,MAAImB,IAAKM,EAAOC,MACbH,EAAaT,EAAKX,MAAMY,cAAcY,SAASF,EAAOC,MACvD5B,EAAAC,EAAAC,cAAA,UAAQW,UAAU,iBAAiBJ,MAAOkB,EAAOC,KAAMrB,GAAIoB,EAAOC,KAAMN,QAASN,EAAKX,MAAMyB,aACzFL,EAAa,aAAe,oBAE/BzB,EAAAC,EAAAC,cAAA,mBAAWyB,EAAOC,MAClB5B,EAAAC,EAAAC,cAAA,mBAAWyB,EAAOI,KAAKb,OAAS,EAAIS,EAAOI,KAAO,qBAClD/B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,0BACCyB,EAAOK,QAAQd,OAAS,EAAIS,EAAOK,QAAU,4BAE/B,OAAhBL,EAAOM,KAAgBjC,EAAAC,EAAAC,cAAA,OAAKW,UAAU,YAAWb,EAAAC,EAAAC,cAAA,KAAGgC,KAAMP,EAAOM,KAAME,OAAO,SAASC,IAAI,uBAA1C,mBAA4F,eAvB9HtB,aCOxBuB,qBAEJ,SAAAA,EAAYhC,GAAO,IAAAW,EAAA,OAAAsB,OAAAC,EAAA,EAAAD,CAAAlC,KAAAiC,IACjBrB,EAAAsB,OAAAE,EAAA,EAAAF,CAAAlC,KAAAkC,OAAAG,EAAA,EAAAH,CAAAD,GAAAK,KAAAtC,KAAMC,KACDsC,MAAQ,CACXjB,mBAAqB,GACrBhB,YAAa,GACbO,cAAe,IAGjBD,EAAKJ,aAAeI,EAAKJ,aAAagC,KAAlBN,OAAAO,EAAA,EAAAP,QAAAO,EAAA,EAAAP,CAAAtB,KACpBA,EAAKV,aAAeU,EAAKV,aAAasC,KAAlBN,OAAAO,EAAA,EAAAP,QAAAO,EAAA,EAAAP,CAAAtB,KACpBA,EAAKc,YAAcd,EAAKc,YAAYc,KAAjBN,OAAAO,EAAA,EAAAP,QAAAO,EAAA,EAAAP,CAAAtB,KACnBA,EAAKO,eAAiBP,EAAKO,eAAeqB,KAApBN,OAAAO,EAAA,EAAAP,QAAAO,EAAA,EAAAP,CAAAtB,KAXLA,4EAcN8B,GACX1C,KAAK2C,SAAS,CAACrC,YAAaoC,EAAMX,OAAO1B,6CAG9BqC,GACXE,QAAQC,IAAI,gBAAkB7C,KAAKuC,MAAMjC,aACzCoC,EAAMI,iBACN9C,KAAK+C,0DAGKL,GACV,IAAIM,EAAcN,EAAMX,OAAO1B,MAG/B4C,SAASC,eAAeR,EAAMX,OAAO1B,OAAO8C,UAAU,aAEtDnD,KAAK2C,SAAS,SAACJ,GACbA,EAAM1B,cAAgB0B,EAAM1B,cAAcuC,OAAO,CAACJ,IAGlD,IAAIK,EAAaC,MAAMC,KAAK,IAAIC,IAAIjB,EAAM1B,gBAG1C,OAFA0B,EAAM1B,cAAgBwC,EAEfd,2CAIIG,GACb,IAAIe,EAAkBf,EAAMX,OAAO2B,UAC/BC,EAAoB3D,KAAKuC,MAAM1B,cAC/B+C,EAAQD,EAAkBE,QAAQJ,GAEW,OAA7CR,SAASC,eAAeO,KAE1BR,SAASC,eAAeO,GAAiBN,UAAU,qBAGvC,IAAVS,GACFD,EAAkBG,OAAOF,EAAM,GAEjC5D,KAAK2C,SAAS,CAAC9B,cAAe8C,kDAIX,IAAAI,EAAA/D,KAGbgE,EAAW,uCACX7D,EAAK,8BAEL8D,EAAU,oCACVC,EAAe,MAAQlE,KAAKuC,MAAMjC,YAAY6D,cAAcC,QAAQ,KAAM,KAEhFxB,QAAQC,IAAI,cAAgBmB,EAAWC,EAAUC,EAAe/D,GAMhEkE,MAAML,EAAWC,EAAUC,EAAe/D,EAVxB,qBAU0C,CAC1DmE,mBAAoB,mBAEnBC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACJX,EAAKpB,SAAS,CACZrB,mBAAoBoD,EAASC,QAAQC,YAIxCC,MAAM,kBAAMjC,QAAQC,IAAI,4DAM3B,OACEjD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACgF,EAAD,CAAQtE,aAAcR,KAAKQ,aAAagC,KAAKxC,MACrCE,aAAcF,KAAKE,aAAasC,KAAKxC,QAC7CJ,EAAAC,EAAAC,cAACiF,EAAD7C,OAAA8C,OAAA,GAAqBhF,KAAKuC,MAA1B,CACiBb,YAAa1B,KAAK0B,YAAYc,KAAKxC,SACpDJ,EAAAC,EAAAC,cAACmF,EAAD/C,OAAA8C,OAAA,GAAehF,KAAKuC,MAApB,CACWpB,eAAgBnB,KAAKmB,eAAeqB,KAAKxC,iBAlG5BkF,IAAMxE,YAyGtCyE,IAASC,OACPxF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAACuF,EAAD,OAEFpC,SAASqC,cAAc","file":"static/js/main.e3a3cf87.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nclass Search extends Component {\n\n  render() {\n\n    return (\n      <div>\n        <form onSubmit={this.props.handleSubmit}>\n          <div id=\"submitform\">\n            <label>\n              Search:\n              <input type=\"text\" value={this.props.searchValue} onChange={this.props.handleChange} />\n            </label>\n            <input type=\"submit\" value=\"Submit\" />\n            <div className=\"helptext\">Enter search term(s) for a recommendations of related of movies, books, games, podcasts, music, tv shows, and authors. </div>\n          </div>\n        </form>\n      </div>\n\n    )\n  }\n};\n\nexport default Search;","import React, { Component } from \"react\";\n\nclass Favorites extends Component {\n\n  render() {\n    return (\n      <div>\n        <div id=\"favorites\">\n          <h2>My Favorites ({this.props.favoritesList.length})</h2>\n          <div className=\"helptext\">Click on a favorite to remove it from the list</div>\n          <ul>\n            {this.props.favoritesList.map(item => (\n              <li key={item} onClick={this.props.removeFavorite}>{item} </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n\n    )\n  }\n};\n\nexport default Favorites;","import React, { Component } from \"react\";\n\nclass Recommendations extends Component {\n\n  render() {\n\n    let buttonText = false;\n\n    return (\n      <div>\n        <h2>{this.props.recommendationList.length} recommendations found </h2>\n        {this.props.recommendationList.length === 0 ? <p className=\"emptyMessage\">No recommendations found! Please enter in a new search or check your spelling.</p> : \"\"}\n        <ul>\n          {this.props.recommendationList.map(object => (\n            <li key={object.Name}>\n              {buttonText = this.props.favoritesList.includes(object.Name)}\n              <button className=\"favoriteButton\" value={object.Name} id={object.Name} onClick={this.props.handleClick}>\n                {buttonText ? 'Favorited!' : 'Add to Favorites'}\n              </button>\n              <h2>Name: {object.Name}</h2>\n              <h3>Type: {object.Type.length > 0 ? object.Type : \"No type available\"}</h3>\n              <div>\n                <h3>Description:</h3>\n                {object.wTeaser.length > 0 ? object.wTeaser : \"No description available\"}\n              </div>\n              {object.wUrl !== null ? <div className=\"wikiLink\"><a href={object.wUrl} target=\"_blank\" rel=\"noopener noreferrer\" >Wikipedia Link</a></div> : \"\"}\n            </li>\n          ))}\n        </ul>\n      </div>\n\n    )\n  }\n};\n\nexport default Recommendations;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Search from './Search';\nimport Favorites from \"./Favorites\";\nimport Recommendations from \"./Recommendations\";\n\nimport './index.css';\n\nclass RecommendationApp extends React.Component{\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      recommendationList : [],\n      searchValue: '',\n      favoritesList: []\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.removeFavorite = this.removeFavorite.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({searchValue: event.target.value});\n  }\n\n  handleSubmit(event) {\n    console.log('Search term: ' + this.state.searchValue);\n    event.preventDefault();\n    this.loadRecommendations();\n  }\n\n  handleClick(event){\n    let newFavorite = event.target.value;\n\n    // Change button text to Favorited!\n    document.getElementById(event.target.value).innerHTML=\"Favorited!\";\n\n    this.setState((state) => {\n      state.favoritesList = state.favoritesList.concat([newFavorite]);\n\n      //Remove duplicates in favoritesList\n      let uniqueName = Array.from(new Set(state.favoritesList));\n      state.favoritesList = uniqueName;\n\n      return state;\n    });\n  }\n\n  removeFavorite(event){\n    let removedFavorite = event.target.innerText;\n    let favoritesListCopy = this.state.favoritesList;\n    let index = favoritesListCopy.indexOf(removedFavorite);\n\n    if (document.getElementById(removedFavorite) !== null){\n      // Change button text to Add to Favorites\n      document.getElementById(removedFavorite).innerHTML=\"Add to Favorites\";\n    }\n\n    if (index!== -1){\n      favoritesListCopy.splice(index,1);\n    }\n    this.setState({favoritesList: favoritesListCopy});\n  }\n\n\n  loadRecommendations(){\n\n    // Get around CORS, only for dev servers\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const id = \"&k=332868-Recommen-H5YYPWRP\";\n    const parameters =\"&verbose=1&wTeaser\";\n    const baseUrl = \"https://tastedive.com/api/similar\";\n    const searchPhrase = \"?q=\" + this.state.searchValue.toLowerCase().replace(/ /g, '+');\n\n    console.log(\"Search url:\" + proxyurl + baseUrl + searchPhrase + id);\n\n    // Override the rate limit with test url\n    //const test = \"https://tastedive.com/api/similar?q=red+hot+chili+peppers%2C+pulp+fiction\";\n\n    //fetch(test)\n    fetch(proxyurl + baseUrl + searchPhrase + id + parameters, ({\n      'X-Requested-With': 'XMLHttpRequest'\n    }))\n      .then(response => response.json())\n      .then(contents => {\n        this.setState({\n          recommendationList: contents.Similar.Results\n        })\n\n      })\n      .catch(() => console.log(\"Can’t access url\" ))\n  }\n\n\n  render(){\n\n    return (\n      <div>\n        <Search handleChange={this.handleChange.bind(this)}\n                handleSubmit={this.handleSubmit.bind(this)}/>\n        <Recommendations {...this.state}\n                         handleClick={this.handleClick.bind(this)} />\n        <Favorites {...this.state}\n                   removeFavorite={this.removeFavorite.bind(this)}/>\n      </div>\n    )\n  }\n}\n\n\nReactDOM.render(\n  <div>\n    <h1>Recommendation App</h1>\n    <RecommendationApp/>\n  </div>,\n  document.querySelector(\"#root\")\n);\n\n"],"sourceRoot":""}