(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(3),r=a(5),l=a(4),o=a(6),s=a(1),c=a(0),u=a.n(c),m=a(8),h=a.n(m),d=function(e){function t(e){return Object(n.a)(this,t),Object(r.a)(this,Object(l.a)(t).call(this,e))}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("form",{onSubmit:this.props.handleSubmit},u.a.createElement("div",{id:"submitform"},u.a.createElement("label",null,"Search:",u.a.createElement("input",{type:"text",value:this.props.searchValue,onChange:this.props.handleChange})),u.a.createElement("input",{type:"submit",value:"Submit"}),u.a.createElement("div",{className:"helptext"},"Enter search term(s) for a recommendations of related of movies, books, games, podcasts, music, tv shows, and authors. "))))}}]),t}(c.Component),v=function(e){function t(e){return Object(n.a)(this,t),Object(r.a)(this,Object(l.a)(t).call(this,e))}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement("div",{id:"favorites"},u.a.createElement("h2",null,"My Favorites (",this.props.favoritesList.length,")"),u.a.createElement("div",{className:"helptext"},"Click on a favorite to remove it from the list"),u.a.createElement("ul",null,this.props.favoritesList.map(function(t){return u.a.createElement("li",{key:t,onClick:e.props.removeFavorite},t," ")}))))}}]),t}(c.Component),p=function(e){function t(e){return Object(n.a)(this,t),Object(r.a)(this,Object(l.a)(t).call(this,e))}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=!1;return u.a.createElement("div",null,u.a.createElement("h2",null,this.props.recommendationList.length," recommendations found "),0==this.props.recommendationList.length?u.a.createElement("p",{className:"emptyMessage"},"No recommendations found! Please enter in a new search or check your spelling."):"",u.a.createElement("ul",null,this.props.recommendationList.map(function(a){return t=e.props.favoritesList.includes(a.Name),u.a.createElement("li",{key:a.Name},u.a.createElement("button",{className:"favoriteButton",value:a.Name,id:a.Name,onClick:e.props.handleClick},t?"Favorited!":"Add to Favorites"),u.a.createElement("h2",null,"Name: ",a.Name),u.a.createElement("h3",null,"Type: ",a.Type.length>0?a.Type:"No type available"),u.a.createElement("div",null,u.a.createElement("h3",null,"Description:"),a.wTeaser.length>0?a.wTeaser:"No description available"),null!==a.wUrl?u.a.createElement("div",{className:"wikiLink"},u.a.createElement("a",{href:a.wUrl,target:"_blank"},"Wikipedia Link")):"")})))}}]),t}(c.Component),b=(a(15),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={recommendationList:[],searchValue:"",favoritesList:[]},a.handleChange=a.handleChange.bind(Object(s.a)(Object(s.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(s.a)(Object(s.a)(a))),a.handleClick=a.handleClick.bind(Object(s.a)(Object(s.a)(a))),a.removeFavorite=a.removeFavorite.bind(Object(s.a)(Object(s.a)(a))),a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState({searchValue:e.target.value})}},{key:"handleSubmit",value:function(e){console.log("Search term: "+this.state.searchValue),e.preventDefault(),this.loadRecommendations()}},{key:"handleClick",value:function(e){var t=e.target.value;document.getElementById(e.target.value).innerHTML="Favorited!",this.setState(function(e){e.favoritesList=e.favoritesList.concat([t]);var a=Array.from(new Set(e.favoritesList));return e.favoritesList=a,e})}},{key:"removeFavorite",value:function(e){var t=e.target.innerText,a=this.state.favoritesList,n=a.indexOf(t);null!==document.getElementById(t)&&(document.getElementById(t).innerHTML="Add to Favorites"),-1!==n&&a.splice(n,1),this.setState({favoritesList:a})}},{key:"loadRecommendations",value:function(){var e=this,t="https://cors-anywhere.herokuapp.com/",a="&k=332868-Recommen-H5YYPWRP",n="https://tastedive.com/api/similar",i="?q="+this.state.searchValue.toLowerCase().replace(/ /g,"+");console.log("Search url:"+t+n+i+a),fetch(t+n+i+a+"&verbose=1&wTeaser",{"X-Requested-With":"XMLHttpRequest"}).then(function(e){return e.json()}).then(function(t){e.setState({recommendationList:t.Similar.Results})}).catch(function(){return console.log("Can\u2019t access url")})}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(d,{handleChange:this.handleChange.bind(this),handleSubmit:this.handleSubmit.bind(this)}),u.a.createElement(p,Object.assign({},this.state,{handleClick:this.handleClick.bind(this)})),u.a.createElement(v,Object.assign({},this.state,{removeFavorite:this.removeFavorite.bind(this)})))}}]),t}(u.a.Component));h.a.render(u.a.createElement("div",null,u.a.createElement("h1",null,"Recommendation App"),u.a.createElement(b,null)),document.querySelector("#root"))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.9264556d.chunk.js.map