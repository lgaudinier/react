{"version":3,"sources":["Search.js","Favorites.js","Recommendations.js","index.js"],"names":["Search","props","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","react_default","a","createElement","onSubmit","handleSubmit","id","type","value","searchValue","onChange","handleChange","className","Component","Favorites","_this","favoritesList","length","map","item","key","onClick","removeFavorite","Recommendations","buttonText","recommendationList","object","includes","Name","handleClick","Type","wTeaser","wUrl","href","target","RecommendationApp","state","bind","assertThisInitialized","event","setState","console","log","preventDefault","loadRecommendations","newFavorite","document","getElementById","innerHTML","concat","uniqueName","Array","from","Set","removedFavorite","innerText","favoritesListCopy","index","indexOf","splice","_this2","proxyurl","baseUrl","searchPhrase","toLowerCase","replace","fetch","X-Requested-With","then","response","json","contents","Similar","Results","catch","src_Search","src_Recommendations","assign","src_Favorites","React","ReactDOM","render","src_RecommendationApp","querySelector"],"mappings":"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","file":"static/js/main.9264556d.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nclass Search extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n\n    return (\n      <div>\n        <form onSubmit={this.props.handleSubmit}>\n          <div id=\"submitform\">\n            <label>\n              Search:\n              <input type=\"text\" value={this.props.searchValue} onChange={this.props.handleChange} />\n            </label>\n            <input type=\"submit\" value=\"Submit\" />\n            <div className=\"helptext\">Enter search term(s) for a recommendations of related of movies, books, games, podcasts, music, tv shows, and authors. </div>\n          </div>\n        </form>\n      </div>\n\n    )\n  }\n};\n\nexport default Search;","import React, { Component } from \"react\";\n\nclass Favorites extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <div id=\"favorites\">\n          <h2>My Favorites ({this.props.favoritesList.length})</h2>\n          <div className=\"helptext\">Click on a favorite to remove it from the list</div>\n          <ul>\n            {this.props.favoritesList.map(item => (\n              <li key={item} onClick={this.props.removeFavorite}>{item} </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n\n    )\n  }\n};\n\nexport default Favorites;","import React, { Component } from \"react\";\n\nclass Recommendations extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n\n    let buttonText = false;\n\n    return (\n      <div>\n        <h2>{this.props.recommendationList.length} recommendations found </h2>\n        {this.props.recommendationList.length == 0 ? <p className=\"emptyMessage\">No recommendations found! Please enter in a new search or check your spelling.</p> : \"\"}\n        <ul>\n          {this.props.recommendationList.map(object => (\n            buttonText = this.props.favoritesList.includes(object.Name),\n              <li key={object.Name}>\n                <button className=\"favoriteButton\" value={object.Name} id={object.Name} onClick={this.props.handleClick}>\n                  {buttonText ? 'Favorited!' : 'Add to Favorites'}\n                </button>\n                <h2>Name: {object.Name}</h2>\n                <h3>Type: {object.Type.length > 0 ? object.Type : \"No type available\"}</h3>\n                <div>\n                  <h3>Description:</h3>\n                  {object.wTeaser.length > 0 ? object.wTeaser : \"No description available\"}\n                </div>\n                {object.wUrl !== null ? <div className=\"wikiLink\"><a href={object.wUrl} target=\"_blank\">Wikipedia Link</a></div> : \"\"}\n              </li>\n          ))}\n        </ul>\n      </div>\n\n    )\n  }\n};\n\nexport default Recommendations;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Search from './Search';\nimport Favorites from \"./Favorites\";\nimport Recommendations from \"./Recommendations\";\n\nimport './index.css';\n\nclass RecommendationApp extends React.Component{\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      recommendationList : [],\n      searchValue: '',\n      favoritesList: []\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.removeFavorite = this.removeFavorite.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({searchValue: event.target.value});\n  }\n\n  handleSubmit(event) {\n    console.log('Search term: ' + this.state.searchValue);\n    event.preventDefault();\n    this.loadRecommendations();\n  }\n\n  handleClick(event){\n    let newFavorite = event.target.value;\n\n    // Change button text to Favorited!\n    document.getElementById(event.target.value).innerHTML=\"Favorited!\";\n\n    this.setState((state) => {\n      state.favoritesList = state.favoritesList.concat([newFavorite]);\n\n      //Remove duplicates in favoritesList\n      let uniqueName = Array.from(new Set(state.favoritesList));\n      state.favoritesList = uniqueName;\n\n      return state;\n    });\n  }\n\n  removeFavorite(event){\n    let removedFavorite = event.target.innerText;\n    let favoritesListCopy = this.state.favoritesList;\n    let index = favoritesListCopy.indexOf(removedFavorite);\n\n    if (document.getElementById(removedFavorite) !== null){\n      // Change button text to Add to Favorites\n      document.getElementById(removedFavorite).innerHTML=\"Add to Favorites\";\n    }\n\n    if (index!== -1){\n      favoritesListCopy.splice(index,1);\n    }\n    this.setState({favoritesList: favoritesListCopy});\n  }\n\n\n  loadRecommendations(){\n\n    // Get around CORS, only for dev servers\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const id = \"&k=332868-Recommen-H5YYPWRP\";\n    const parameters =\"&verbose=1&wTeaser\";\n    const baseUrl = \"https://tastedive.com/api/similar\";\n    const searchPhrase = \"?q=\" + this.state.searchValue.toLowerCase().replace(/ /g, '+');\n\n    console.log(\"Search url:\" + proxyurl + baseUrl + searchPhrase + id);\n\n    // Override the rate limit with test url\n    //const test = \"https://tastedive.com/api/similar?q=red+hot+chili+peppers%2C+pulp+fiction\";\n\n    //fetch(test)\n    fetch(proxyurl + baseUrl + searchPhrase + id + parameters, ({\n      'X-Requested-With': 'XMLHttpRequest'\n    }))\n      .then(response => response.json())\n      .then(contents => {\n        this.setState({\n          recommendationList: contents.Similar.Results\n        })\n\n      })\n      .catch(() => console.log(\"Can’t access url\" ))\n  }\n\n\n  render(){\n\n    return (\n      <div>\n        <Search handleChange={this.handleChange.bind(this)}\n                handleSubmit={this.handleSubmit.bind(this)}/>\n        <Recommendations {...this.state}\n                         handleClick={this.handleClick.bind(this)} />\n        <Favorites {...this.state}\n                   removeFavorite={this.removeFavorite.bind(this)}/>\n      </div>\n    )\n  }\n}\n\n\nReactDOM.render(\n  <div>\n    <h1>Recommendation App</h1>\n    <RecommendationApp/>\n  </div>,\n  document.querySelector(\"#root\")\n);\n\n"],"sourceRoot":""}