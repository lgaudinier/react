{"version":3,"sources":["Search.js","Favorites.js","Recommendations.js","index.js"],"names":["Search","react_default","a","createElement","onSubmit","this","props","handleSubmit","id","type","value","searchValue","onChange","handleChange","className","Component","Favorites","_this","favoritesList","length","map","item","key","onClick","removeFavorite","Recommendations","recommendationList","object","Name","handleClick","Type","wTeaser","wUrl","href","target","rel","RecommendationApp","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","bind","assertThisInitialized","event","setState","console","log","preventDefault","loadRecommendations","newFavorite","document","getElementById","innerHTML","concat","uniqueName","Array","from","Set","removedFavorite","innerText","favoritesListCopy","index","indexOf","splice","_this2","proxyurl","baseUrl","searchPhrase","toLowerCase","replace","fetch","X-Requested-With","then","response","json","contents","Similar","Results","catch","src_Search","src_Recommendations","assign","src_Favorites","React","ReactDOM","render","src_RecommendationApp","querySelector"],"mappings":"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","file":"static/js/main.99c909e2.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nclass Search extends Component {\n\n  render() {\n\n    return (\n      <div>\n        <form onSubmit={this.props.handleSubmit}>\n          <div id=\"submitform\">\n            <label>\n              Search:\n              <input type=\"text\" value={this.props.searchValue} onChange={this.props.handleChange} />\n            </label>\n            <input type=\"submit\" value=\"Submit\" />\n            <div className=\"helptext\">Enter search term(s) for a recommendations of related of movies, books, games, podcasts, music, tv shows, and authors. </div>\n          </div>\n        </form>\n      </div>\n\n    )\n  }\n};\n\nexport default Search;","import React, { Component } from \"react\";\n\nclass Favorites extends Component {\n\n  render() {\n    return (\n      <div>\n        <div id=\"favorites\">\n          <h2>My Favorites ({this.props.favoritesList.length})</h2>\n          <div className=\"helptext\">Click on a favorite to remove it from the list</div>\n          <ul>\n            {this.props.favoritesList.map(item => (\n              <li key={item} onClick={this.props.removeFavorite}>{item} </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n\n    )\n  }\n};\n\nexport default Favorites;","import React, { Component } from \"react\";\n\nclass Recommendations extends Component {\n\n  render() {\n\n    let buttonText = false;\n\n    return (\n      <div>\n        <h2>{this.props.recommendationList.length} recommendations found </h2>\n        {this.props.recommendationList.length == 0 ? <p className=\"emptyMessage\">No recommendations found! Please enter in a new search or check your spelling.</p> : \"\"}\n        <ul>\n          {this.props.recommendationList.map(object => (\n              <li key={object.Name}>\n                buttonText = this.props.favoritesList.includes(object.Name)\n                <button className=\"favoriteButton\" value={object.Name} id={object.Name} onClick={this.props.handleClick}>\n                  {buttonText ? 'Favorited!' : 'Add to Favorites'}\n                </button>\n                <h2>Name: {object.Name}</h2>\n                <h3>Type: {object.Type.length > 0 ? object.Type : \"No type available\"}</h3>\n                <div>\n                  <h3>Description:</h3>\n                  {object.wTeaser.length > 0 ? object.wTeaser : \"No description available\"}\n                </div>\n                {object.wUrl !== null ? <div className=\"wikiLink\"><a href={object.wUrl} target=\"_blank\" rel=\"noopener noreferrer\" >Wikipedia Link</a></div> : \"\"}\n              </li>\n          ))}\n        </ul>\n      </div>\n\n    )\n  }\n};\n\nexport default Recommendations;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Search from './Search';\nimport Favorites from \"./Favorites\";\nimport Recommendations from \"./Recommendations\";\n\nimport './index.css';\n\nclass RecommendationApp extends React.Component{\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      recommendationList : [],\n      searchValue: '',\n      favoritesList: []\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.removeFavorite = this.removeFavorite.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({searchValue: event.target.value});\n  }\n\n  handleSubmit(event) {\n    console.log('Search term: ' + this.state.searchValue);\n    event.preventDefault();\n    this.loadRecommendations();\n  }\n\n  handleClick(event){\n    let newFavorite = event.target.value;\n\n    // Change button text to Favorited!\n    document.getElementById(event.target.value).innerHTML=\"Favorited!\";\n\n    this.setState((state) => {\n      state.favoritesList = state.favoritesList.concat([newFavorite]);\n\n      //Remove duplicates in favoritesList\n      let uniqueName = Array.from(new Set(state.favoritesList));\n      state.favoritesList = uniqueName;\n\n      return state;\n    });\n  }\n\n  removeFavorite(event){\n    let removedFavorite = event.target.innerText;\n    let favoritesListCopy = this.state.favoritesList;\n    let index = favoritesListCopy.indexOf(removedFavorite);\n\n    if (document.getElementById(removedFavorite) !== null){\n      // Change button text to Add to Favorites\n      document.getElementById(removedFavorite).innerHTML=\"Add to Favorites\";\n    }\n\n    if (index!== -1){\n      favoritesListCopy.splice(index,1);\n    }\n    this.setState({favoritesList: favoritesListCopy});\n  }\n\n\n  loadRecommendations(){\n\n    // Get around CORS, only for dev servers\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const id = \"&k=332868-Recommen-H5YYPWRP\";\n    const parameters =\"&verbose=1&wTeaser\";\n    const baseUrl = \"https://tastedive.com/api/similar\";\n    const searchPhrase = \"?q=\" + this.state.searchValue.toLowerCase().replace(/ /g, '+');\n\n    console.log(\"Search url:\" + proxyurl + baseUrl + searchPhrase + id);\n\n    // Override the rate limit with test url\n    //const test = \"https://tastedive.com/api/similar?q=red+hot+chili+peppers%2C+pulp+fiction\";\n\n    //fetch(test)\n    fetch(proxyurl + baseUrl + searchPhrase + id + parameters, ({\n      'X-Requested-With': 'XMLHttpRequest'\n    }))\n      .then(response => response.json())\n      .then(contents => {\n        this.setState({\n          recommendationList: contents.Similar.Results\n        })\n\n      })\n      .catch(() => console.log(\"Canâ€™t access url\" ))\n  }\n\n\n  render(){\n\n    return (\n      <div>\n        <Search handleChange={this.handleChange.bind(this)}\n                handleSubmit={this.handleSubmit.bind(this)}/>\n        <Recommendations {...this.state}\n                         handleClick={this.handleClick.bind(this)} />\n        <Favorites {...this.state}\n                   removeFavorite={this.removeFavorite.bind(this)}/>\n      </div>\n    )\n  }\n}\n\n\nReactDOM.render(\n  <div>\n    <h1>Recommendation App</h1>\n    <RecommendationApp/>\n  </div>,\n  document.querySelector(\"#root\")\n);\n\n"],"sourceRoot":""}