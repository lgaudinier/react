{"version":3,"sources":["Search.js","Favorites.js","Recommendations.js","index.js"],"names":["Search","props","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","react_default","a","createElement","onSubmit","handleSubmit","id","type","value","searchValue","onChange","handleChange","className","Component","Favorites","_this","favoritesList","length","map","item","key","onClick","removeFavorite","Recommendations","buttonText","recommendationList","object","includes","Name","handleClick","Type","wTeaser","RecommendationApp","state","bind","assertThisInitialized","event","setState","target","console","log","preventDefault","loadRecommendations","newFavorite","document","getElementById","innerHTML","concat","uniqueName","Array","from","Set","removedFavorite","innerText","favoritesListCopy","index","indexOf","splice","_this2","proxyurl","baseUrl","searchPhrase","toLowerCase","replace","fetch","X-Requested-With","then","response","json","contents","Similar","Results","catch","src_Search","src_Recommendations","assign","src_Favorites","React","ReactDOM","render","src_RecommendationApp","querySelector"],"mappings":"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","file":"static/js/main.e0b70139.chunk.js","sourcesContent":["\nimport React, { Component } from \"react\";\n\nclass Search extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n\n    return (\n      <div>\n        <form onSubmit={this.props.handleSubmit}>\n          <div id=\"submitform\">\n            <label>\n              Search:\n              <input type=\"text\" value={this.props.searchValue} onChange={this.props.handleChange} />\n            </label>\n            <input type=\"submit\" value=\"Submit\" />\n            <div className=\"helptext\">Enter a search term for a recommendations of related of movies, books, games, podcasts, music, tv shows, and authors </div>\n          </div>\n        </form>\n      </div>\n\n      )\n    }\n  };\n\nexport default Search;","\nimport React, { Component } from \"react\";\n\nclass Favorites extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <div id=\"favorites\">\n          <h2>My Favorites ({this.props.favoritesList.length})</h2>\n          <div className=\"helptext\">Click on a favorite to remove it from the list</div>\n          <ul>\n            {this.props.favoritesList.map(item => (\n              <li key={item} onClick={this.props.removeFavorite}>{item} </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n\n    )\n  }\n};\n\nexport default Favorites;","\nimport React, { Component } from \"react\";\n\nclass Recommendations extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n\n    let buttonText = false;\n\n    return (\n      <div>\n        <ul>\n          {this.props.recommendationList.map(object => (\n            buttonText = this.props.favoritesList.includes(object.Name),\n              <li key={object.Name}>\n                <button className=\"favoriteButton\" value={object.Name} id={object.Name} onClick={this.props.handleClick}>\n                  {buttonText ? 'Favorited!' : 'Add to Favorites'}\n                </button>\n                <h2>Name: {object.Name}</h2>\n                <h3>Type: {object.Type}</h3>\n                <div><h3>Description:</h3> {object.wTeaser}</div>\n              </li>\n          ))}\n\n        </ul>\n      </div>\n\n    )\n  }\n};\n\nexport default Recommendations;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Search from './Search';\n\nimport './index.css';\nimport Favorites from \"./Favorites\";\nimport Recommendations from \"./Recommendations\";\n\nclass RecommendationApp extends React.Component{\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      recommendationList : [],\n      searchValue: '',\n      favoritesList: []\n    };\n\n   this.handleChange = this.handleChange.bind(this);\n   this.handleSubmit = this.handleSubmit.bind(this);\n   this.handleClick = this.handleClick.bind(this);\n   this.removeFavorite = this.removeFavorite.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({searchValue: event.target.value});\n  }\n\n  handleSubmit(event) {\n    console.log('Search term: ' + this.state.searchValue);\n    event.preventDefault();\n    this.loadRecommendations();\n  }\n\n  handleClick(event){\n    let newFavorite = event.target.value;\n\n    // Change button text to Favorited!\n    document.getElementById(event.target.value).innerHTML=\"Favorited!\";\n\n    this.setState((state) => {\n      state.favoritesList = state.favoritesList.concat([newFavorite]);\n\n      //Remove duplicates in favoritesList\n      let uniqueName = Array.from(new Set(state.favoritesList));\n      state.favoritesList = uniqueName;\n\n      return state;\n    });\n  }\n\n  removeFavorite(event){\n    let removedFavorite = event.target.innerText;\n    let favoritesListCopy = this.state.favoritesList;\n    let index = favoritesListCopy.indexOf(removedFavorite);\n\n    if (document.getElementById(removedFavorite) !== null){\n      // Change button text to Add to Favorites\n      document.getElementById(removedFavorite).innerHTML=\"Add to Favorites\";\n    }\n\n    if (index!== -1){\n      favoritesListCopy.splice(index,1);\n    }\n    this.setState({favoritesList: favoritesListCopy});\n  }\n\n\n  loadRecommendations(){\n\n    // Get around CORS, only for dev servers\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const id = \"&k=332868-Recommen-H5YYPWRP\";\n    const parameters =\"&verbose=1&wTeaser\";\n    const baseUrl = \"https://tastedive.com/api/similar\";\n    const searchPhrase = \"?q=\" + this.state.searchValue.toLowerCase().replace(/ /g, '+');\n\n    console.log(\"Search url:\" + proxyurl + baseUrl + searchPhrase + id);\n\n    // Override the rate limit with test url\n    //const test = \"https://tastedive.com/api/similar?q=red+hot+chili+peppers%2C+pulp+fiction\";\n\n    //fetch(test)\n    fetch(proxyurl + baseUrl + searchPhrase + id + parameters, ({\n      'X-Requested-With': 'XMLHttpRequest'\n    }))\n      .then(response => response.json())\n      .then(contents => {\n        this.setState({\n          recommendationList: contents.Similar.Results\n        })\n\n      })\n      .catch(() => console.log(\"Canâ€™t access url\" ))\n  }\n\n\n  render(){\n\n    let {recommendationList} = this.state;\n    let buttonText = false;\n\n    return (\n      <div>\n        <Search handleChange={this.handleChange.bind(this)}\n                handleSubmit={this.handleSubmit.bind(this)}/>\n        <Recommendations {...this.state}\n                         handleClick={this.handleClick.bind(this)} />\n        <Favorites {...this.state}\n                   removeFavorite={this.removeFavorite.bind(this)}/>\n      </div>\n    )\n  }\n}\n\n\nReactDOM.render(\n  <div>\n    <h1>Recommendation App</h1>\n    <RecommendationApp/>\n  </div>,\n  document.querySelector(\"#root\")\n);\n\n"],"sourceRoot":""}